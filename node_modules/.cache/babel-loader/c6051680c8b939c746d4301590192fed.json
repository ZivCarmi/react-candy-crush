{"ast":null,"code":"import axios from\"axios\";import{useState}from\"react\";import{useScore}from\"./ScoreProvider\";import{BASE_URL}from\"../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Save(){const{score}=useScore();const[nameValue,setNameValue]=useState(\"\");const[nameError,setNameError]=useState(\"\");const[message,setMessage]=useState(\"\");// on input change\nconst handleChange=e=>setNameValue(e.target.value);// on button click\nconst validateAndSubmit=()=>{if(nameValue===\"\"){setNameError(\"Name cannot be empty\");}else if(nameValue.length<2){setNameError(\"Name must contain at least 2 characters\");}else if(nameValue.length>12){setNameError(\"Name can not contain more than 12 characters\");}else{setNameError(\"\");saveScore();}};const saveScore=async()=>{const scoreData={name:nameValue,score};axios.post(\"\".concat(BASE_URL,\"/addscore\"),scoreData).then(response=>{if(response.status===200){setMessage(response.data.message);}}).catch(err=>console.log(err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"save-score-box\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"save-score-title\",children:\"Save Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"name-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nameValue,onChange:handleChange,placeholder:\"Your name...\"}),nameError&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:nameError})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"save-score-btn\",onClick:validateAndSubmit,children:\"Submit\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"success\",children:message})]});}","map":{"version":3,"names":["axios","useState","useScore","BASE_URL","jsx","_jsx","jsxs","_jsxs","Save","score","nameValue","setNameValue","nameError","setNameError","message","setMessage","handleChange","e","target","value","validateAndSubmit","length","saveScore","scoreData","name","post","concat","then","response","status","data","catch","err","console","log","className","children","type","onChange","placeholder","onClick"],"sources":["C:/Users/Ziv/Desktop/Work/ziv-react-candy-crush/src/components/Save.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useScore } from \"./ScoreProvider\";\r\nimport { BASE_URL } from \"../config\";\r\n\r\nexport default function Save() {\r\n  const { score } = useScore();\r\n  const [nameValue, setNameValue] = useState(\"\");\r\n  const [nameError, setNameError] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // on input change\r\n  const handleChange = (e) => setNameValue(e.target.value);\r\n\r\n  // on button click\r\n  const validateAndSubmit = () => {\r\n    if (nameValue === \"\") {\r\n      setNameError(\"Name cannot be empty\");\r\n    } else if (nameValue.length < 2) {\r\n      setNameError(\"Name must contain at least 2 characters\");\r\n    } else if (nameValue.length > 12) {\r\n      setNameError(\"Name can not contain more than 12 characters\");\r\n    } else {\r\n      setNameError(\"\");\r\n      saveScore();\r\n    }\r\n  };\r\n\r\n  const saveScore = async () => {\r\n    const scoreData = {\r\n      name: nameValue,\r\n      score,\r\n    };\r\n\r\n    axios\r\n      .post(`${BASE_URL}/addscore`, scoreData)\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          setMessage(response.data.message);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"save-score-box\">\r\n      <h2 className=\"save-score-title\">Save Score</h2>\r\n      <div className=\"name-input\">\r\n        <input\r\n          type=\"text\"\r\n          value={nameValue}\r\n          onChange={handleChange}\r\n          placeholder=\"Your name...\"\r\n        />\r\n        {nameError && <div className=\"error\">{nameError}</div>}\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"save-score-btn\"\r\n        onClick={validateAndSubmit}\r\n      >\r\n        Submit\r\n      </button>\r\n      {message && <div className=\"success\">{message}</div>}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,QAAQ,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErC,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAAEC,KAAM,CAAC,CAAGP,QAAQ,CAAC,CAAC,CAC5B,KAAM,CAACQ,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACW,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE1C;AACA,KAAM,CAAAe,YAAY,CAAIC,CAAC,EAAKN,YAAY,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAExD;AACA,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAIV,SAAS,GAAK,EAAE,CAAE,CACpBG,YAAY,CAAC,sBAAsB,CAAC,CACtC,CAAC,IAAM,IAAIH,SAAS,CAACW,MAAM,CAAG,CAAC,CAAE,CAC/BR,YAAY,CAAC,yCAAyC,CAAC,CACzD,CAAC,IAAM,IAAIH,SAAS,CAACW,MAAM,CAAG,EAAE,CAAE,CAChCR,YAAY,CAAC,8CAA8C,CAAC,CAC9D,CAAC,IAAM,CACLA,YAAY,CAAC,EAAE,CAAC,CAChBS,SAAS,CAAC,CAAC,CACb,CACF,CAAC,CAED,KAAM,CAAAA,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,SAAS,CAAG,CAChBC,IAAI,CAAEd,SAAS,CACfD,KACF,CAAC,CAEDT,KAAK,CACFyB,IAAI,IAAAC,MAAA,CAAIvB,QAAQ,cAAaoB,SAAS,CAAC,CACvCI,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC3Bd,UAAU,CAACa,QAAQ,CAACE,IAAI,CAAChB,OAAO,CAAC,CACnC,CACF,CAAC,CAAC,CACDiB,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CACrC,CAAC,CAED,mBACEzB,KAAA,QAAK4B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/B,IAAA,OAAI8B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cAChD7B,KAAA,QAAK4B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB/B,IAAA,UACEgC,IAAI,CAAC,MAAM,CACXlB,KAAK,CAAET,SAAU,CACjB4B,QAAQ,CAAEtB,YAAa,CACvBuB,WAAW,CAAC,cAAc,CAC3B,CAAC,CACD3B,SAAS,eAAIP,IAAA,QAAK8B,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAExB,SAAS,CAAM,CAAC,EACnD,CAAC,cACNP,IAAA,WACEgC,IAAI,CAAC,QAAQ,CACbF,SAAS,CAAC,gBAAgB,CAC1BK,OAAO,CAAEpB,iBAAkB,CAAAgB,QAAA,CAC5B,QAED,CAAQ,CAAC,CACRtB,OAAO,eAAIT,IAAA,QAAK8B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEtB,OAAO,CAAM,CAAC,EACjD,CAAC,CAEV"},"metadata":{},"sourceType":"module"}